<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="../static/img/favicon.svg">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Review idiom suggestions</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

</head>
<body>
    <!-- Same top bar -->
    <div class="v-toolbar__content" style="height: 70px;">
        <img id="logo" src="{{ url_for('static', filename='img/logo.png') }}" alt="logo JGU">
        <h2 class="title">Heart sayings</h2>
        <div class="v-spacer"></div>
        <nav class="navigation">
            <a href="/heart-sayings">Home</a>
            <a href="/heart-sayings/project">Project</a>
            <a href="/heart-sayings/help">Help</a>
            {% if admin_logged_in %}
        <a href="/heart-sayings/admin/logout" class="admin-link">Logout</a>
    {% else %}
        <a href="/heart-sayings/admin/login" class="admin-link">Admin</a>
    {% endif %}
        </nav>
    </div>
    <div>
        <hr id="red-line">
    </div>

    <div class="page">
        <h1>Pending idiom suggestions</h1>

        <p class="hint">
            Review user submissions here. Approving a suggestion adds it to the
            main idiom list (unless it already exists).
        </p>

        {% if suggestions|length == 0 %}
            <p>No pending suggestions at the moment.</p>
        {% else %}
            <div class="table-responsive">
                <table class="review-table">
                    <thead>
                        <tr>
                            <th>Language</th>
                            <th>Idiom</th>
                            <th>Meaning</th>
                            <th>Idiom translation</th>
                            <th>Meaning translation</th>
                            <th>Concept ID</th>
                            <th>Submitted</th>
                            <th>Actions</th>
                            <th>Note</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for s in suggestions %}
                        {# s indices:
                            0 id
                            1 language
                            2 idiom
                            3 meaning
                            4 idiom_translation
                            5 meaning_translation
                            6 concept_id
                            7 status
                            8 created_at
                            9 is_duplicate
                        #}
                        <tr>
                            <td>{{ s[1] }}</td>
                            <td><b>{{ s[2] }}</b></td>
                            <td>{{ s[3] }}</td>
                            <td>{{ s[4] }}</td>
                            <td>{{ s[5] }}</td>
                            <td>{{ s[6] }}</td>
                            <td class="small-text">
                                {{ s[8] }}
                            </td>
                            <td>
                                <a href="/heart-sayings/admin/approve/{{ s[0] }}" class="action-approve">
                                    Approve
                                </a>
                                <a href="/heart-sayings/admin/reject/{{ s[0] }}" class="action-reject">
                                    Reject
                                </a>
                            </td>
                            <td>
                                {% if s[9] == 1 %}
                                    <span class="badge badge-duplicate">
                                        Already exists in idioms
                                    </span>
                                {% else %}
                                    <span class="badge badge-new">
                                        New idiom
                                    </span>
                                {% endif %}
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        {% endif %}

        <p style="margin-top:16px;">
            <a href="/heart-sayings">&larr; Back to overview</a>
        </p>
    </div>

</body>
</html>
